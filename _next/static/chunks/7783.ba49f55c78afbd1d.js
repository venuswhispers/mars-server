"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7783],{37783:function(i,e,t){t.d(e,{LinkInstance:function(){return l}});var n=t(27837);function s(i,e){var t;let s=((t=i.map(i=>i.id)).sort((i,e)=>i-e),t.join("_")),l=e.get(s);return void 0===l&&(l=(0,n.sZ)(),e.set(s,l)),l}class l{constructor(i){this.container=i,this._drawLinkLine=(i,e)=>{let t=i.options.links;if(!t?.enable)return;let s=this.container,l=s.actualOptions,o=e.destination,a=i.getPosition(),r=o.getPosition(),c=e.opacity;s.canvas.draw(e=>{let d;let k=i.options.twinkle?.lines;if(k?.enable){let i=k.frequency,e=(0,n.tX)(k.color);(0,n.sZ)()<i&&e&&(d=e,c=(0,n.Gu)(k.opacity))}if(!d){let e=void 0!==t.id?s.particles.linksColors.get(t.id):s.particles.linksColor;d=(0,n.BE)(i,o,e)}if(!d)return;let f=i.retina.linksWidth??0,h=i.retina.linksDistance??0,{backgroundMask:p}=l;!function(i){let e=!1,{begin:t,end:s,maxDistance:l,context:o,canvasSize:a,width:r,backgroundMask:c,colorLine:d,opacity:k,links:f}=i;if((0,n.Sp)(t,s)<=l)(0,n.pS)(o,t,s),e=!0;else if(f.warp){let i,r;let c={x:s.x-a.width,y:s.y},d=(0,n.oW)(t,c);if(d.distance<=l){let e=t.y-d.dy/d.dx*t.x;i={x:0,y:e},r={x:a.width,y:e}}else{let e={x:s.x,y:s.y-a.height},o=(0,n.oW)(t,e);if(o.distance<=l){let e=-(t.y-o.dy/o.dx*t.x)/(o.dy/o.dx);i={x:e,y:0},r={x:e,y:a.height}}else{let e={x:s.x-a.width,y:s.y-a.height},o=(0,n.oW)(t,e);if(o.distance<=l){let e=t.y-o.dy/o.dx*t.x;r={x:(i={x:-e/(o.dy/o.dx),y:e}).x+a.width,y:i.y+a.height}}}}i&&r&&((0,n.pS)(o,t,i),(0,n.pS)(o,s,r),e=!0)}if(!e)return;o.lineWidth=r,c.enable&&(o.globalCompositeOperation=c.composite),o.strokeStyle=(0,n.iz)(d,k);let{shadow:h}=f;if(h.enable){let i=(0,n.tX)(h.color);i&&(o.shadowBlur=h.blur,o.shadowColor=(0,n.iz)(i))}o.stroke()}({context:e,width:f,begin:a,end:r,maxDistance:h,canvasSize:s.canvas.size,links:t,backgroundMask:p,colorLine:d,opacity:c})})},this._drawLinkTriangle=(i,e,t)=>{let s=i.options.links;if(!s?.enable)return;let l=s.triangles;if(!l.enable)return;let o=this.container,a=o.actualOptions,r=e.destination,c=t.destination,d=l.opacity??(e.opacity+t.opacity)*.5;d<=0||o.canvas.draw(e=>{let t=i.getPosition(),k=r.getPosition(),f=c.getPosition(),h=i.retina.linksDistance??0;if((0,n.Sp)(t,k)>h||(0,n.Sp)(f,k)>h||(0,n.Sp)(f,t)>h)return;let p=(0,n.tX)(l.color);if(!p){let e=void 0!==s.id?o.particles.linksColors.get(s.id):o.particles.linksColor;p=(0,n.BE)(i,r,e)}p&&function(i){let{context:e,pos1:t,pos2:s,pos3:l,backgroundMask:o,colorTriangle:a,opacityTriangle:r}=i;e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(s.x,s.y),e.lineTo(l.x,l.y),e.closePath(),o.enable&&(e.globalCompositeOperation=o.composite),e.fillStyle=(0,n.iz)(a,r),e.fill()}({context:e,pos1:t,pos2:k,pos3:f,backgroundMask:a.backgroundMask,colorTriangle:p,opacityTriangle:d})})},this._drawTriangles=(i,e,t,n)=>{let s=t.destination;if(!(i.links?.triangles.enable&&s.options.links?.triangles.enable))return;let l=s.links?.filter(i=>{let e=this._getLinkFrequency(s,i.destination);return s.options.links&&e<=s.options.links.frequency&&n.findIndex(e=>e.destination===i.destination)>=0});if(l?.length)for(let n of l){let l=n.destination;this._getTriangleFrequency(e,s,l)>i.links.triangles.frequency||this._drawLinkTriangle(e,t,n)}},this._getLinkFrequency=(i,e)=>s([i,e],this._freqs.links),this._getTriangleFrequency=(i,e,t)=>s([i,e,t],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(i,e){let{links:t,options:n}=e;if(!t?.length)return;let s=t.filter(i=>n.links&&(n.links.frequency>=1||this._getLinkFrequency(e,i.destination)<=n.links.frequency));for(let i of s)this._drawTriangles(n,e,i,s),i.opacity>0&&(e.retina.linksWidth??0)>0&&this._drawLinkLine(e,i)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(i){if(i.links=[],!i.options.links)return;let e=this.container.retina.pixelRatio,{retina:t}=i,{distance:n,width:s}=i.options.links;t.linksDistance=n*e,t.linksWidth=s*e}particleDestroyed(i){i.links=[]}}}}]);