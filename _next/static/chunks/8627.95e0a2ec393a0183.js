"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8627],{83397:function(e,r,a){a.d(r,{d:function(){return o},e:function(){return l},loadImage:function(){return i}});var t=a(27837);let n=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;async function i(e){return new Promise(r=>{e.loading=!0;let a=new Image;e.element=a,a.addEventListener("load",()=>{e.loading=!1,r()}),a.addEventListener("error",()=>{e.element=void 0,e.error=!0,e.loading=!1,(0,t.jl)().error(`${t.gK} loading image: ${e.source}`),r()}),a.src=e.source})}async function o(e){if("svg"!==e.type){await i(e);return}e.loading=!0;let r=await fetch(e.source);r.ok?e.svgData=await r.text():((0,t.jl)().error(`${t.gK} Image not found`),e.error=!0),e.loading=!1}function l(e,r,a,o){let l=function(e,r,a){let{svgData:i}=e;if(!i)return"";let o=(0,t.vz)(r,a);if(i.includes("fill"))return i.replace(n,()=>o);let l=i.indexOf(">");return`${i.substring(0,l)} fill="${o}"${i.substring(l)}`}(e,a,o.opacity?.value??1),d={color:a,gif:r.gif,data:{...e,svgData:l},loaded:!1,ratio:r.width/r.height,replaceColor:r.replaceColor,source:r.src};return new Promise(r=>{let a=new Blob([l],{type:"image/svg+xml"}),t=URL||window.URL||window.webkitURL||window,n=t.createObjectURL(a),o=new Image;o.addEventListener("load",()=>{d.loaded=!0,d.element=o,r(d),t.revokeObjectURL(n)});let s=async()=>{t.revokeObjectURL(n);let a={...e,error:!1,loading:!0};await i(a),d.loaded=!0,d.element=a.element,r(d)};o.addEventListener("error",()=>void s()),o.src=n})}},58627:function(e,r,a){a.d(r,{loadImageShape:function(){return i}});var t=a(83397),n=a(27837);async function i(e,r=!0){e.loadImage||(e.loadImage=async r=>{if(!r.name&&!r.src)throw Error(`${n.gK} no image source provided`);if(e.images||(e.images=[]),!e.images.find(e=>e.name===r.name||e.source===r.src))try{let n;let i={gif:r.gif??!1,name:r.name??r.src,source:r.src,type:r.src.substring(r.src.length-3),error:!1,loading:!0,replaceColor:r.replaceColor,ratio:r.width&&r.height?r.width/r.height:void 0};if(e.images.push(i),r.gif){let{loadGifImage:e}=await a.e(7077).then(a.bind(a,87077));n=e}else n=r.replaceColor?t.d:t.loadImage;await n(i)}catch{throw Error(`${n.gK} ${r.name??r.src} not found`)}});let{ImagePreloaderPlugin:i}=await a.e(9377).then(a.bind(a,9377)),{ImageDrawer:o}=await a.e(9917).then(a.bind(a,69917)),l=new i(e);await e.addPlugin(l,r),await e.addShape(["image","images"],new o(e),r)}}}]);